---
// export const prerender = false;

import { GithubProfile } from "@/actions/github-profile";
import { LeetcodeProfile } from "@/actions/leetcode-profile";
import A from "@/components/A.astro";
import Layout from "@/layouts/Layout.astro";

const github = await GithubProfile();
const leetcode = await LeetcodeProfile();
---

<Layout
	title="Quick View"
	description="A collection of Quick Links for my personal website"
>
	<h2>Quick View</h2>

	<h3>Links</h3>
	<div
		class="flex flex-wrap justify-evenly border border-border ~gap-2/4 ~p-2/4"
	>
		<span>
			<A
				href="https://flowcv.com/resume/mdrssqq018"
				title="Resume"
				target="_blank"
			>
				Resume
			</A>
		</span>
		<span>
			<A
				href="https://www.linkedin.com/in/naparajith/"
				title="LinkedIn - Naparajith T L"
				target="_blank"
			>
				LinkedIn
			</A>
		</span>
		<span>
			<A
				href={github.html_url}
				title={`GitHub - ${github.login}`}
				target="_blank"
			>
				GitHub
			</A>
		</span>
		<span>
			<A
				href={"https://leetcode.com/u/DrInfinite/"}
				title={`LeetCode - ${leetcode.profile?.realName}`}
				target="_blank"
			>
				LeetCode
			</A>
		</span>
		<span>
			<A href="/" title="Portfolio - Home"> Portfolio </A>
		</span>
		<span>
			<A href="/blog" title="Portfolio - Blog">Blog</A>
		</span>
		<span>
			<A href="/contact" title="Portfolio - Contact"> Contact </A>
		</span>
	</div>

	<h3>GitHub Stats</h3>
	<div>
		<div
			class="flex flex-wrap justify-evenly border border-border ~gap-2/4 ~p-2/4"
		>
			<span>Repositories: <strong>{github.public_repos}</strong></span>
			<span>Followers: <strong>{github.followers}</strong></span>
			<span>Following: <strong>{github.following}</strong></span>
		</div>
	</div>

	<h3>LeetCode Stats</h3>
	<div
		class="flex flex-wrap justify-evenly border border-border ~gap-2/4 ~p-2/4"
	>
		<span>Rank: <strong>{leetcode.profile?.ranking}</strong></span>
		<span>
			Solved: <strong>
				{leetcode.completedCount.total} ({
					leetcode.completedPercentage.total
				})
			</strong>
		</span>
		<span>Rating: <strong>{leetcode.profile?.starRating}</strong></span>
	</div>
</Layout>
